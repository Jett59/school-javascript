<html>

<head>
    <title>Home - Note Manager</title>
    <script src="helper.js"></script>
</head>

<body>
    <h1>Welcome to your notes!</h1>
    <div id="notes">Loading...</div>
    <script>
        apiFetch('/api/list', response => {
            if (response.status === 'success') {
                const notes = response.notes;
                const output = document.getElementById('notes');
                output.innerHTML = '';
                for (let note of notes) {
                    let noteDiv = document.createElement('div');
                    noteDiv.innerHTML = `
                        <h2>${note.title}</h2>
                        <button onclick="deleteNote(${note.id})">Delete</button>
                    `;
                    output.appendChild(noteDiv);
                }
            } else {
                window.location = '/login.html';
            }
        });
    </script>
</body>

</html>